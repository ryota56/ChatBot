<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#1a1a2e" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <title>キャラクターチャットBot</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/chat.css" />
    <link rel="stylesheet" href="css/entrance.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <!-- 入口アニメーションのためのスクリプトを先に読み込む -->
    <script src="js/entrance.js"></script>
  </head>
  <body>
    <header class="app-header">
      <h1><i class="fas fa-comments"></i> キャラクターチャット</h1>
      <p class="subtitle">あなたの好みのキャラクターと会話してみましょう</p>
    </header>

    <!-- トップ画面（スライダー） -->
    <section class="slider-container">
      <button class="slider-arrow prev">
        <i class="fas fa-chevron-left"></i>
      </button>
      <div class="slider">
        <div class="slide">
          <img
            src="images/characters/1.png"
            alt="キャラクター「ryota」"
            data-character="1"
          />
        </div>
        <div class="slide">
          <img
            src="images/characters/2.jpg"
            alt="キャラクター「新人A」"
            data-character="2"
          />
        </div>
        <div class="slide">
          <img
            src="images/characters/3.png"
            alt="キャラクター「天使の猫ちゃん」"
            data-character="3"
          />
        </div>
      </div>
      <button class="slider-arrow next">
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="slider-indicators">
        <span class="indicator active"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
      </div>
    </section>

    <!-- チャット画面 -->
    <section class="chat-container">
      <div class="chat-header">
        <img
          id="selected-character"
          src="images/characters/1.png"
          alt="キャラクター「ryota」"
        />
      </div>
      <div class="chat-messages"></div>
      <div class="predefined-messages">
        <button class="predefined-message-btn"><i class="fas fa-user-circle"></i>自己紹介して</button>
        <button class="predefined-message-btn"><i class="fas fa-book"></i>あなたは何が詳しいの？</button>
      </div>
      <div class="chat-input">
        <textarea
          id="message-input"
          placeholder="メッセージを入力...(Shift+Enter または Ctrl+Enter で送信)"
        ></textarea>
        <button id="send-message"><i class="fas fa-paper-plane"></i></button>
      </div>
      <div class="chat-footer">
        <!-- 他のキャラクターと会話する部分はJavaScriptで動的に生成 -->
        
        <button class="back-button" id="back-to-selection">
          <i class="fas fa-chevron-left"></i>
          <span class="btn-text">選択画面に戻る</span>
        </button>
      </div>
    </section>

    <footer class="app-footer">
      <p>
        &copy; 2025 キャラクターチャット -<br />
        あなたの好みのキャラクターと会話できるアプリ
      </p>
    </footer>

    <script src="js/slider.js"></script>
    <!-- 設定ファイル読み込み（モジュール未対応ブラウザ向け） -->
    <script nomodule src="js/config.js"></script>
    <!-- モジュール対応ブラウザ向けのメインスクリプト -->
    <script type="module" src="js/chat.js"></script>
    <!-- モジュール未対応ブラウザ向けのフォールバック -->
    <script nomodule src="js/chat.js"></script>
  </body>
</html>
